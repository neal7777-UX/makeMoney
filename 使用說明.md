# 休閒風個人記帳本 - 使用說明

## 🎉 更新內容 (2025-10-30)

### ✅ 已修復的問題

#### 1. **兩個欄目合併**
- ✓ 將「新增日常支出」和「新增分期計畫」整合到同一個卡片中
- ✓ 使用標籤切換設計，點擊標籤即可切換表單
- ✓ 介面更加簡潔，操作更加便捷

#### 2. **分期計畫正確顯示**
- ✓ 修復分期計畫新增後的顯示問題
- ✓ 本月支出預覽會正確計算分期攤提金額
- ✓ 近期交易紀錄會顯示本月的分期支付項目

#### 3. **自動扣除總資產**
- ✓ 新增支出時，會自動從總資產中扣除該筆金額
- ✓ 扣除後會顯示提示訊息
- ✓ 總資產即時更新

---

## 📊 功能說明

### 1️⃣ 總資產管理
- **顯示**：左側卡片顯示當前總資產
- **更新**：手動輸入新的總資產金額並點擊「更新總資產」按鈕
- **自動扣除**：每次新增支出時自動扣除

### 2️⃣ 新增支出 (日常花費)
- 點擊「📝 新增日常支出」標籤
- 填寫日期、金額、類別、描述
- 點擊「新增支出」
- **效果**：
  - 支出記錄已儲存
  - 總資產自動扣除該筆金額
  - 本月支出預覽更新
  - 交易紀錄新增該筆支出

### 3️⃣ 新增分期計畫 (信用卡分期)
- 點擊「💳 新增分期計畫」標籤
- 填寫總額、期數、開始月份、類別、描述
- 點擊「新增分期計畫」
- **效果**：
  - 分期計畫已儲存
  - 系統自動計算每月攤還金額
  - 如果當前月份在分期範圍內，本月支出預覽會顯示本月攤提金額
  - 交易紀錄會顯示本月的分期支付項目

### 4️⃣ 本月支出預覽
- **一般支出**：當月所有日常支出的總和
- **分期攤提**：當月所有分期計畫的攤提金額總和
- **本月總計**：一般支出 + 分期攤提

### 5️⃣ 近期交易紀錄
- 顯示最近 30 筆交易
- 包含日常支出和本月的分期支付
- 按時間倒序排列（最新的在最上方）
- 支出顯示藍色標籤「支出」
- 分期顯示紫色標籤「分期」

---

## 🔧 測試範例

### 步驟 1：設置總資產
1. 在「總資產」卡片中輸入 `100000`
2. 點擊「更新總資產」
3. 確認顯示：$100,000

### 步驟 2：新增日常支出
1. 點擊「📝 新增日常支出」標籤
2. 選擇今天的日期
3. 金額輸入 `650`
4. 類別選擇「餐飲」
5. 描述輸入「午餐」
6. 點擊「新增支出」
7. **預期結果**：
   - 顯示通知：「支出已記錄，總資產已扣除 $650」
   - 總資產變為：$99,350
   - 本月支出預覽 - 一般支出：$650
   - 交易紀錄出現該筆支出

### 步驟 3：新增分期計畫
1. 點擊「💳 新增分期計畫」標籤
2. 總額輸入 `12000`
3. 期數輸入 `12`
4. 開始月份選擇當前月份（例如：2025-10）
5. 類別選擇「購物」
6. 描述輸入「手機」
7. 點擊「新增分期計畫」
8. **預期結果**：
   - 顯示通知：「分期計畫已新增」
   - 本月支出預覽 - 分期攤提：$1,000 （12000÷12）
   - 本月總計：$1,650 （650+1000）
   - 交易紀錄出現該筆分期支付（標註：手機 (分期 12 期)）

---

## 💡 注意事項

1. **數據存儲**：所有數據存儲在瀏覽器的 localStorage 中
2. **數據持久性**：關閉瀏覽器後數據不會丟失
3. **清除數據**：如需清空所有數據，按 F12 打開控制台，輸入 `localStorage.clear()` 後刷新頁面
4. **分期計算**：分期攤提只在分期期間內的月份顯示
5. **總資產**：新增支出會自動扣除，但新增分期計畫不會（因為分期是每月攤還，而非一次性支出）

---

## 🎨 介面佈局

```
┌─────────────────────────────────────────────────────────┐
│                  💰 休閒風個人記帳本                      │
└─────────────────────────────────────────────────────────┘

┌───────────────────┐  ┌─────────────────────────────────┐
│   💎 總資產       │  │  📝新增日常支出 | 💳新增分期計畫 │
│                   │  │  ─────────────────────────────  │
│   $100,000        │  │                                 │
│                   │  │  [表單內容]                     │
│   [更新總資產]    │  │                                 │
└───────────────────┘  │                                 │
                       │  [新增支出/新增分期計畫]        │
┌───────────────────┐  └─────────────────────────────────┘
│ 📊 本月支出預覽   │
│                   │  ┌─────────────────────────────────┐
│ 一般支出: $650    │  │  📜 近期交易紀錄                │
│ 分期攤提: $1,000  │  │                                 │
│ ───────────────── │  │  [交易清單]                     │
│ 本月總計: $1,650  │  │  ...                            │
└───────────────────┘  └─────────────────────────────────┘
```

---

## 🚀 開始使用

1. 用瀏覽器打開 `index-local.html`
2. 開始記錄您的財務！

**祝您使用愉快！** ✨

